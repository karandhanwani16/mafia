Sure â€” Iâ€™ve reviewed general Mafia game rules and mechanics from reliable sources and used that to craft a detailed Product Requirements Document (PRD) for a React frontend + Node.js backend implementation of the game described in the Mafia: The Game link you shared (gameplay based on the classic Mafia party game / social deduction game). ï¿¼

â¸»

ðŸ“Œ Mafia Game Web App â€” Product Requirements Document (PRD)

ðŸ§  Product Goals

Build a web-based multiplayer Mafia game with the following key capabilities:
	1.	Create or Join Game Rooms â€” Users can create or join unique game rooms.
	2.	Role Assignment & Gameplay â€” System assigns roles (Mafia, Town/Civilians, Special roles, etc.) and controls game phases (Night/Day).
	3.	Real-time Interaction â€” All players see live game updates, discussion, voting, elimination, and results.
	4.	Voice / Text Chat During Game â€” Enable players to discuss during the Day phase.
	5.	Secure & Fair Play â€” Hidden roles/data should only be visible to relevant players at relevant times.

â¸»

ðŸ‘¤ Target Users
	â€¢	Social gamers (friends, parties).
	â€¢	Casual online players.
	â€¢	People familiar with classic â€œMafia/Werewolfâ€ rules. ï¿¼

â¸»

ðŸ§© Feature Breakdown

â¸»

1. Game Flow & Rules

ðŸ—“ Phases

ðŸ”¹ Night Phase
	â€¢	System hides identities from all players.
	â€¢	Mafia members silently choose a target.
	â€¢	Special roles get actions:
	â€¢	Doctor (can save).
	â€¢	Detective/Cop (can investigate a player).
(Based on typical game rules) ï¿¼

ðŸ”¹ Day Phase
	â€¢	Reveal who was eliminated during night (except saved).
	â€¢	Players discuss and vote to lynch suspected mafia.
	â€¢	Vote results determine who gets eliminated.
	â€¢	Repeat Night/Day cycles until win condition met.

ðŸ† Win Conditions
	â€¢	Mafia wins if mafia count â‰¥ non-mafia count.
	â€¢	Villagers win when all mafia eliminated. ï¿¼

â¸»

2. Roles

Minimum roles include:

Role	Description
Mafia	Secretly plans kills at Night.
Civilians / Town	No special ability; majority group.
Doctor	Can save a player at Night.
Detective / Cop	Investigates a playerâ€™s alignment.
Moderator / Host	Backend logic controlling game state.

Extendable to future roles (e.g., Serial Killer, Spy, Bodyguard). ï¿¼

â¸»

3. User Stories

â¸»

ðŸŽ® Gameplay
	â€¢	As a Player, I want to join a lobby with other players.
	â€¢	As a Player, I want to be assigned a random role.
	â€¢	As a Player, I want to see the game state update in real-time.
	â€¢	As a Player, I want to talk (chat/voice) with others during Day phase.

â¸»

ðŸ›  Admin / Host
	â€¢	As a Host, I want to start a game when enough players are ready.
	â€¢	As a Host, I want to configure optional roles.
	â€¢	As a Host, I want to end or reset the game.

â¸»

4. Front-End (React)

ðŸ— Architecture
	â€¢	React (with Redux or Context for game state)
	â€¢	React Router â€” Room & lobby navigation
	â€¢	WebSockets (Socket.IO) â€” Real-time updates
	â€¢	UI/UX Screens
	â€¢	Landing / Home
	â€¢	Game Lobby
	â€¢	In-Game View (Role display, chat, timer)
	â€¢	Game Results

ðŸ—‚ UI Components
	â€¢	Game Room list
	â€¢	Player list + statuses
	â€¢	Voting UI
	â€¢	Chat component
	â€¢	Action buttons for Night actions

â¸»

5. Back-End (Node.js)

ðŸ”Œ API Design

Endpoint	Purpose
POST /rooms	Create new game room
POST /rooms/:id/join	Join existing room
GET /rooms/:id	Get room status
POST /rooms/:id/start	Start game
POST /rooms/:id/action	Submit role actions (kill, save, investigate)

WebSocket events for:
	â€¢	userJoined
	â€¢	gameUpdate
	â€¢	nightActions
	â€¢	voteResults
	â€¢	gameEnd

â¸»

6. Real-Time Data (WebSockets)

Use Socket.IO or WebRTC + Signaling to:
	â€¢	Broadcast Room updates
	â€¢	Sync Phase changes
	â€¢	Send Night/Day actions
	â€¢	Deliver Voting results live

â¸»

7. Security & Fair Play
	â€¢	Server determines roles & Night/Day transitions.
	â€¢	Clients only receive limited data (privacy of roles).
	â€¢	Elimination notifications controlled by server logic.

â¸»

8. Tech Stack Suggestion

Component	Technology
Frontend	React, Redux
Backend	Node.js, Express
Real Time	Socket.IO
Database	MongoDB / Redis (for game state)
Hosting	Vercel / Heroku / AWS
Media Chat (optional)	WebRTC


â¸»

9. Success Metrics

Metric	Success Indicator
User Engagement	Avg session length > 10 mins
Game Completion	Avg games reaching win condition
Low Cheat Rate	No abnormal votes/actions
Smooth Sync	Minimal lag between players


â¸»

10. Future Enhancements
	â€¢	Voice Chat
	â€¢	Rankings & History
	â€¢	AI Bots
	â€¢	Mobile App support

â¸»

If you want, I can also generate UML diagrams, database models, API specs, React component breakdowns, or even starter code templates for this project â€” just ask! ðŸ˜Š